<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>时间生成器</title>
    <script>
        async function fetchTime() {
            try {
                const response = await fetch('/api/time');
                const data = await response.json();
                const jsonData = JSON.stringify(data, null, 2);

                // 显示 JSON 数据
                document.getElementById('json-display').innerText = jsonData;

                // 复制到剪贴板
                navigator.clipboard.writeText(jsonData)
                    .then(() => {
                        document.getElementById('copy-status').innerText = "已复制到剪贴板!";
                    })
                    .catch(err => console.error("复制失败", err));

            } catch (error) {
                console.error('获取数据失败', error);
            }
        }

        // 页面加载时调用
        window.onload = fetchTime;
    </script>
</head>
<body>
    <h2>当前时间 JSON</h2>
    <pre id="json-display"></pre>
    <p id="copy-status" style="color: green;"></p>
</body>
</html>
